(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{"0W/e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("rHpw");const n=e=>1===e?{height:r.a.theme.spacesPx.space48,width:r.a.theme.spacesPx.space48}:{height:r.a.theme.spacesPx.space40,width:e*r.a.theme.spacesPx.space40}},PEva:function(e,t,a){"use strict";a.r(t);var r=a("97Jx"),n=a.n(r),l=a("ERkP"),i=a("Zl35"),o=a("KEM+"),s=a.n(o),c=(a("kYxP"),a("+xEG")),u=a("aoyV"),p=a("kCRK"),m=a("fZNH"),d=a("ub6r"),h=a("0nHQ"),b=a("USG3"),y=a("Q0n6"),f=a("5VhU"),E=a("hhMf"),S=a("Ur4q"),g=a("oH2E"),C=a("mNIZ"),w=a("MWbm"),v=a("ReFq"),R=a("VLhD");class A extends l.PureComponent{constructor(...e){super(...e),s()(this,"_renderWithHideControls",(e=>{var t,a;const{containerRef:r,fullscreenAdsDisabledOnIOS:n,guestsState:i,onScribeEvent:o,playerApi:s,playerDisplayOptions:E,playerState:A,poster:k,showWatchAgain:T,useRefactoredControlBarLayout:_}=this.props;if(!s||!A)return null;const x=Object(y.e)(A),O=(null==x?void 0:x.contentType)===p.a.GIF,P="PLAY_REQUESTED"!==(null==(t=A.controls)?void 0:t.playState),L=T&&A.tracksFinished,{Observer:I,observed:B}=e,F=Object(R.c)(A,B,R.b),N=!!A.error,D=F&&A.isPreview,j=!(!F||null==x||!x.isLive),W=!(null!=E&&E.hideLeftBadges)&&(O||D||j),M=!(null!=E&&E.hideRightBadges)&&F,H=!(null!=E&&E.hidePosterImage),U=null==(a=A.controls)?void 0:a.isPosterShown;return l.createElement(m.a,{playerState:A},l.createElement(I,{click:!0,interactionKey:R.a.Root,mousemove:!0,mouseover:!0},N?null:l.createElement(l.Fragment,null,l.createElement(S.a,{hideControls:F,isTouchOnlyUI:R.b,playerApi:s,playerDisplayOptions:E,playerState:A}),H&&!L&&l.createElement(g.a,{imageSrc:k,playerApi:s,playerState:A,withPlayButton:P}),l.createElement(u.a,{playerState:A}),!O&&T&&l.createElement(v.a,{onScribeEvent:o,playerApi:s,playerState:A}),l.createElement(f.a,{guestsState:i,playerState:A}),!O&&l.createElement(I,{focus:!0,interactionKey:R.a.VideoCTA,mouseover:!0},l.createElement(b.a,{show:!F},l.createElement(C.a,{playerApi:s,playerState:A}))),!O&&!U&&l.createElement(l.Fragment,null,l.createElement(I,{focus:!0,interactionKey:R.a.A11YHook},l.createElement(w.a,{accessible:!0})),l.createElement(I,{focus:!0,interactionKey:R.a.ControlBar,mouseover:!0,touch:!0},l.createElement(d.a,{containerRef:r,fullscreenAdsDisabledOnIOS:n,hideControls:F,playerApi:s,playerState:A,publisherDisplayName:null==x?void 0:x.publisherDisplayName,publisherProfileImageUrl:null==x?void 0:x.publisherProfileImageUrl,showScrubber:"ad"!==(null==x?void 0:x.displayType)&&!(null!=x&&x.isLive),useRefactoredControlBarLayout:_}))),l.createElement(b.a,{show:W},l.createElement(c.a,{playerDisplayOptions:E,playerState:A,position:"left"})),l.createElement(b.a,{show:M},l.createElement(c.a,{playerDisplayOptions:E,playerState:A,position:"right"}))),l.createElement(b.a,{show:N},N&&l.createElement(h.a,{imageSrc:k,playerApi:s,playerState:A}))))}))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?l.createElement(E.a,null,l.createElement(E.a.Context.Consumer,null,this._renderWithHideControls)):null}}var k=A,T=a("t62R"),_=a("Wms4"),x=a("vCAy"),O=a("w05h"),P=a("IE/l"),L=a("N2PN"),I=a("dPHj"),B=a("aNKf"),F=a("/yvb"),N=a("0W/e"),D=a("Lsrn"),j=a("k/Ka");const W=(e={})=>Object(j.a)("svg",{...e,style:[D.a.root,e.style],viewBox:"0 0 24 24"},l.createElement("g",null,l.createElement("path",{d:"M20.5 2h-1c-.828 0-1.5.672-1.5 1.5v6.976L4.87 2.116c-.228-.146-.522-.157-.762-.023-.24.132-.39.384-.39.657v18.5c0 .273.15.525.39.657.113.063.237.093.36.093.142 0 .28-.04.403-.117L18 13.527V20.5c0 .828.672 1.5 1.5 1.5h1c.828 0 1.5-.672 1.5-1.5v-17c0-.828-.672-1.5-1.5-1.5z"})));W.metadata={width:24,height:24};var M=W,H=a("cm6r"),U=a("fs1G"),V=a("rHpw"),z=a("U+bB");const K=V.a.create((({colors:e,borderRadii:t,borderWidths:a,spaces:r})=>({thumbnail:{backgroundColor:e.translucentBlack77,borderRadius:t.small,display:"flex",flexDirection:"row",overflow:"hidden",opacity:1},thumbnailRtl:{flexDirection:"row-reverse"},thumbnailFocused:{boxShadow:`0 0 0 ${a.medium} ${e.white}`,outlineStyle:"none"},countdownTime:{paddingHorizontal:r.space4,minWidth:"1em",display:"flex",alignItems:"center",justifyContent:"center",fontVariant:["tabular-nums"]},iconLeftMargin:{marginLeft:"0.5em"}})));var Y=({onClick:e})=>{const{playerState:t,aspectRatio:a}=l.useContext(i.b.PeriodicContext);if(!t)return null;const r=Object(y.e)(t);if(!r||r.displayType!==p.c.AD)return null;const n=r.durationMs,o=n<7e3,s=(o?n:5e3)-(r.currentTimeMs||0),c=s>250,u=s<0,m=Object(y.d)(r)||0,d=Object(y.f)(r)||0,h=(o?d:5)-m,f=Object(O.m)({seconds:Object(O.q)(h)});return l.createElement(H.a,{accessibilityLabel:u?O.l:f,accessibilityRole:"button",accessible:!0,interactive:!0,interactiveStyles:null,onClick:u&&e?e:U.a,testID:"ControlBar-containerView"},(e=>l.createElement(l.Fragment,null,!u&&l.createElement(b.a,{show:c},l.createElement(w.a,{style:[K.thumbnail,false,e.isFocused&&K.thumbnailFocused],testID:"ControlBar-videoThumbnail"},l.createElement(T.c,{color:"white",size:"small",style:K.countdownTime},h),l.createElement(z.a,{source:t.posterImage,style:Object(N.a)(a)}))),l.createElement(b.a,{show:u},l.createElement(F.a,{accessible:!1,interactivityState:e,pointerEvents:"auto",size:"normalCompact",testID:"ControlBar-skipButton",type:"onMedia"},l.createElement(T.c,{weight:"normal"},O.k),l.createElement(M,{style:K.iconLeftMargin}))))))},$=a("aITJ"),G=a("kRXa"),X=a("BVo1"),q=a("wtsM"),Q=a("5Ixf"),J=a("AtEG"),Z=a("NnQ9"),ee=a("p6DB");const te="PrerollControlBar-",ae={CAPTIONS:`${te}Captions`,FULLSCREEN:`${te}Fullscreen`};class re extends l.Component{constructor(...e){super(...e),s()(this,"_parentRef",l.createRef()),s()(this,"_renderRightContent",(e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const r=$.b.isIOS();return l.createElement(l.Fragment,null,this._renderTimePlayed(),this._renderVolumeControls(t,a),!r&&l.createElement(e,{focus:!0,interactionKey:ae.FULLSCREEN,interactionTimeoutMs:0,mouseover:!0},this._renderFullScreenButton(t,a)))})),s()(this,"_renderActionButton",((e,t)=>{const{isPlaying:a,controls:r}=t,{play:n,pause:i}=e,o=Object(y.e)(t);return!o||o.isLive?null:a||r&&"PLAY_REQUESTED"===r.playState?l.createElement(L.a,{accessibilityLabel:q.d,hoverLabelPreferredHorizontalOrientation:"end",icon:l.createElement(Q.a,null),onPress:i}):l.createElement(L.a,{accessibilityLabel:q.e,hoverLabelPreferredHorizontalOrientation:"end",icon:l.createElement(J.a,null),onPress:n})})),s()(this,"_renderAdText",(()=>l.createElement(I.a,null,O.o))),s()(this,"_renderTimePlayed",(()=>l.createElement(i.a,{periodic:!0},(({playerState:e})=>{const t=Object(y.e)(e),a=Object(y.d)(t),r=Object(y.f)(t);return t&&"number"==typeof a&&r&&!t.isLive?l.createElement(I.a,null,`${Object(y.b)(a)} / ${Object(y.b)(r)}`):null})))),s()(this,"_renderVolumeControls",((e,t)=>{const{isMuted:a,volume:r}=t,{mute:n,unmute:i,setVolume:o}=e,s=a?i:n,c=a?q.g:q.c;return l.createElement(G.a,{accessibilityLabelIcon:c,accessibilityLabelSlider:q.h,isMuted:a,onMuteToggle:s,onSliderChange:this._setVolumePercent(o),volumePercent:100*r})})),s()(this,"_setVolumePercent",(e=>t=>{e(t/100)})),s()(this,"_renderFullScreenButton",((e,t)=>{const{fullscreen:a}=t;return a.isFullscreen?l.createElement(L.a,{accessibilityLabel:q.b,hoverLabelPreferredHorizontalOrientation:"start",icon:l.createElement(le,{isFullscreen:a.isFullscreen}),onPress:this._exitFullScreen(e)}):l.createElement(L.a,{accessibilityLabel:q.a,hoverLabelPreferredHorizontalOrientation:"start",icon:l.createElement(le,{isFullscreen:a.isFullscreen}),onPress:this._requestFullScreen(e)})})),s()(this,"_requestFullScreen",(e=>()=>{e.fullScreen(this.props.containerRef)})),s()(this,"_exitFullScreen",(e=>()=>e.exitFullScreen())),s()(this,"_renderSkipAffordance",(()=>l.createElement(w.a,{pointerEvents:"none",style:ne.skipAffordance},l.createElement(Y,null))))}render(){const{playerApi:e,playerState:t,displayDismissableControls:a,skipButton:r,useRefactoredControlBarLayout:n}=this.props;if(!e||!t)return null;const i=t.fullscreen.isFullscreen;return l.createElement(E.a.ObserverContext.Consumer,null,(o=>l.createElement(w.a,{ref:this._parentRef,style:ne.root},n?l.createElement(P.a,{actionButton:this._renderActionButton(e,t),displayDismissableControls:a,leftContent:this._renderAdText(),rightContent:this._renderRightContent(o),skipButton:r}):l.createElement(B.a,{colors:[V.a.theme.colors.transparent,V.a.theme.colors.translucentBlack77],style:X.d},l.createElement(w.a,{style:X.c},l.createElement(w.a,{style:X.a},this._renderActionButton(e,t),l.createElement(w.a,{style:[X.g.flexRow,X.g.flexShrink]},this._renderAdText())),l.createElement(w.a,{style:X.b},this._renderRightContent(o),i&&this._renderSkipAffordance()))))))}}const ne=V.a.create((e=>({root:{writingDirection:"ltr",cursor:"auto",width:"100%"},skipAffordance:{marginLeft:e.spaces.space12,visibility:"hidden"}})));function le({style:e,isFullscreen:t}){const{hidden:a,shown:r}=ie;return l.createElement(l.Fragment,null,l.createElement(Z.a,{style:t?a:r}),l.createElement(ee.a,{style:t?r:a}))}const ie={hidden:{display:"none",height:"1.5em"},shown:{display:"block",height:"1.5em"}};var oe=re,se=a("oSwX");class ce extends l.PureComponent{constructor(...e){super(...e),s()(this,"_buildMessage",((e,t)=>{switch(e){case p.d.watch_now:return t?Object(O.e)({advertiserName:t}):O.j;case p.d.shop:return t?Object(O.c)({advertiserName:t}):O.h;case p.d.see_more:return t?Object(O.b)({advertiserName:t}):O.g;case p.d.go_to:return t?Object(O.a)({advertiserName:t}):O.f;case p.d.visit_site:default:return t?Object(O.d)({advertiserName:t}):O.i}})),s()(this,"_handlePress",((e,t)=>()=>{e.callToActionClicked(),window.open(t,"_blank")}))}componentDidMount(){const{playerApi:e}=this.props;e&&e.callToActionImpression()}render(){const{playerApi:e,advertiserName:t,avatarUri:a,ctaType:r,ctaUrl:n}=this.props;if(!e)return null;const i=this._buildMessage(r,t);return l.createElement(F.a,{accessibilityLabel:i,icon:a?l.createElement(se.default,{size:"medium",style:ue.avatar,uri:a}):void 0,onPress:this._handlePress(e,n),size:"small",style:ue.root,type:"onMedia"},i)}}const ue=V.a.create((e=>({root:{position:"absolute",left:e.spaces.space12,top:e.spaces.space12},avatar:{borderColor:e.colors.white,backgroundColor:e.colors.white,borderWidth:e.borderWidths.small,boxShadow:`0 0 0 0.1px ${e.colors.white}`}})));var pe=ce;const me=V.a.create((e=>({root:{position:"absolute",top:0,left:0,width:"100%"},gradientContainer:{padding:e.spaces.space16},flexRow:{alignItems:"center",flexDirection:"row"},rightSpacing:{marginRight:e.spaces.space4}})));var de=({children:e})=>l.createElement(w.a,{style:me.root},l.createElement(B.a,{colors:[V.a.theme.colors.translucentBlack77,V.a.theme.colors.transparent],style:me.gradientContainer},l.createElement(w.a,{style:me.flexRow},l.Children.toArray(e).map(((e,t,{length:a})=>{const r=`LinearGradient-children-${t}`,n=t<a-1?me.rightSpacing:"";return l.createElement(w.a,{key:r,style:n},e)})))));class he extends l.Component{constructor(...e){super(...e),s()(this,"state",{showControlBar:!1,stackedLabels:!1}),s()(this,"_durationLabelRef",l.createRef()),s()(this,"_descriptionLabelRef",l.createRef()),s()(this,"_handleLayout",(()=>{var e,t;const a=null==(e=this._durationLabelRef)?void 0:e.current,r=null==(t=this._descriptionLabelRef)?void 0:t.current;a&&r&&a.measure(((e,t)=>{r.measure(((e,a)=>{t!==a?this.setState({stackedLabels:!0}):this.setState({stackedLabels:!1})}))}))})),s()(this,"_renderRefactoredPrerollControlBar",(e=>{const{containerRef:t,onSkip:a,playerApi:r,playerState:n,useRefactoredControlBarLayout:i}=this.props;if(!r||!n)return null;const{Observer:o,observed:s}=e,c=Object(R.c)(n,s,R.b),u=n.fullscreen.isFullscreen;return l.createElement(w.a,{style:be.bottomContentContainer},l.createElement(w.a,{style:be.bottomContentRow},l.createElement(w.a,{style:[be.forceFullWidth,be.flexDirectionRow]},l.createElement(o,{focus:!0,interactionKey:R.a.A11YHook},l.createElement(w.a,{accessible:!0})),l.createElement(w.a,{style:be.flexExpand},l.createElement(w.a,{style:be.labelContainerAbsolute},l.createElement(b.a,{show:c},l.createElement(w.a,{style:[be.bottomContentRow,be.rowBottomSpace]},this._renderLabels()))),!u&&l.createElement(w.a,{style:[be.bottomContentRow]},l.createElement(w.a,{style:[be.skipThumbnail,be.skipThumbnailAbsolute],testID:ye.floatSkipThumbnail},l.createElement(Y,{onClick:a}))),l.createElement(o,{focus:!0,interactionKey:R.a.ControlBar,mouseover:!0,touch:!0},l.createElement(oe,{containerRef:t,displayDismissableControls:!c,playerApi:r,playerState:n,skipButton:u&&l.createElement(w.a,{style:[be.skipThumbnail,be.skipThumbnailRelative],testID:ye.inlineSkipThumbnail},l.createElement(Y,{onClick:a})),useRefactoredControlBarLayout:i}))))))})),s()(this,"_renderOriginalPrerollControlBar",(e=>{const{containerRef:t,onSkip:a,playerApi:r,playerState:n}=this.props;if(!r||!n)return null;const{Observer:i,observed:o}=e,s=Object(R.c)(n,o,R.b),c=n.fullscreen.isFullscreen;return l.createElement(l.Fragment,null,l.createElement(b.a,{show:s},l.createElement(w.a,{style:be.bottomContentContainer},l.createElement(w.a,{style:[be.bottomContentRow,be.rowBottomSpace]},this._renderLabels(),l.createElement(w.a,{style:[be.skipThumbnail,be.alignRight,be.hidden]},l.createElement(Y,null))))),l.createElement(w.a,{style:be.bottomContentContainer},!c&&l.createElement(w.a,{style:[be.bottomContentRow]},l.createElement(w.a,{style:[be.skipThumbnail,be.skipThumbnailAbsolute],testID:ye.floatSkipThumbnail},l.createElement(Y,{onClick:a}))),l.createElement(w.a,{style:be.bottomContentRow},l.createElement(w.a,{style:be.forceFullWidth},l.createElement(i,{focus:!0,interactionKey:R.a.A11YHook},l.createElement(w.a,{accessible:!0})),l.createElement(b.a,{show:!s},l.createElement(i,{focus:!0,interactionKey:R.a.ControlBar,mouseover:!0,touch:!0},l.createElement(oe,{containerRef:t,playerApi:r,playerState:n}))))),c&&l.createElement(w.a,{style:[be.skipThumbnail,be.skipThumbnailAbsolute],testID:ye.inlineSkipThumbnail},l.createElement(Y,{onClick:a}))))})),s()(this,"_renderWithIntentionContext",(e=>{const{playerApi:t,playerState:a,useRefactoredControlBarLayout:r}=this.props;if(!t||!a)return null;const n=Object(y.e)(a),i=null==n?void 0:n.advertiserProfileImageUrl,o=null==n?void 0:n.advertiserName,s=null==n?void 0:n.cta;return l.createElement(l.Fragment,null,s?l.createElement(pe,{advertiserName:o,avatarUri:i,ctaType:s.type,ctaUrl:s.url,playerApi:t}):l.createElement(de,null,i&&l.createElement(se.default,{size:"medium",style:be.avatarBorder,uri:i}),o&&l.createElement(T.c,{color:"white",weight:"bold"},o)),r?this._renderRefactoredPrerollControlBar(e):this._renderOriginalPrerollControlBar(e))})),s()(this,"_renderLabels",(()=>l.createElement(i.a,{periodic:!0},(({playerState:e})=>{const t=Object(y.e)(e),a=Object(y.f)(t),r=Object(y.d)(t)||0,n=a?a-r:null,i=t&&"number"==typeof n&&!t.isLive?l.createElement(w.a,{ref:this._durationLabelRef},l.createElement(_.a,{key:"PrerollVideoOverlay-DurationLabel",style:[x.b.label,x.b.spaceRight,x.b.borderRadiusLeft,this.state.stackedLabels&&x.b.borderRadiusRight,this.state.stackedLabels&&be.labelBottomSpace]},l.createElement(T.c,{numberOfLines:1},Object(y.b)(n)))):null,o=l.createElement(w.a,{ref:this._descriptionLabelRef},l.createElement(_.a,{key:"PrerollVideoOverlay-DescriptionLabel",style:[x.b.label,x.b.spaceRight,x.b.borderRadiusRight,this.state.stackedLabels&&x.b.borderRadiusLeft]},l.createElement(T.c,{numberOfLines:1},O.o)));return l.createElement(w.a,{onLayout:this._handleLayout,pointerEvents:"none",style:be.labelContainer},i,o)}))))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?l.createElement(E.a.Context.Consumer,null,this._renderWithIntentionContext):null}}const be=V.a.create((e=>({avatarBorder:{borderColor:e.colors.white,backgroundColor:e.colors.white,borderWidth:e.borderWidths.small,boxShadow:`0 0 0 0.1px ${e.colors.white}`},bottomContentContainer:{flexWrap:"wrap",flexDirection:"row",position:"absolute",bottom:0,width:"100%"},labelContainerAbsolute:{flexWrap:"wrap",flexDirection:"row",position:"absolute",bottom:0,maxWidth:"65%"},bottomContentRow:{alignItems:"flex-end",flexWrap:"nowrap",flexDirection:"row",flexGrow:1,flexShrink:0,justifyContent:"space-between",width:"100%"},rowBottomSpace:{marginBottom:e.spaces.space12},forceFullWidth:{width:"100%"},labelBottomSpace:{marginBottom:e.spaces.space2},alignRight:{marginRight:e.spaces.space12},labelContainer:{justifyContent:"flex-start",flexWrap:"wrap",flexGrow:1,flexShrink:1,flexBasis:"auto",flexDirection:"row",marginLeft:e.spaces.space12},skipThumbnail:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignItems:"flex-end"},skipThumbnailRelative:{marginBottom:e.spaces.space12,marginRight:e.spaces.space12},skipThumbnailAbsolute:{position:"absolute",bottom:e.spaces.space12,right:e.spaces.space12,maxWidth:"35%"},flexExpand:{flexGrow:1,flexShrink:1,flexBasis:0},flexDirectionRow:{flexDirection:"row"},flexWrap:{flexWrap:"wrap",justifyContent:"space-between"},hidden:{visibility:"hidden"}}))),ye={floatSkipThumbnail:"float-SkipThumbnail",inlineSkipThumbnail:"inline-SkipThumbnail"};var fe=he,Ee=a("uz49");class Se extends l.PureComponent{constructor(...e){super(...e),s()(this,"state",{wasPrerollSkipped:!1}),s()(this,"_renderWithRedesignedPrerollUx",(e=>{var t;const{playerApi:a,playerState:r,poster:n}=this.props;if(!a||!r)return null;const o=Object(y.e)(r),s=(null==o?void 0:o.displayType)===p.c.AD&&(null==o?void 0:o.playbackCompleted),c=null==(t=r.errorInfo)?void 0:t.adFailed;if(this.state.wasPrerollSkipped||s||c)return l.createElement(i.a,null,(({aspectRatio:e})=>{const t=n||r.posterImage;return l.createElement(Ee.a,{aspectRatio:e,imageSrc:t,onTransitionComplete:this._handleTransitionAnimationComplete})}));return(null==o?void 0:o.displayType)===p.c.AD?this._renderPrerollVideo(e):l.createElement(m.a,{playerState:r},this._renderPrerollVideo(e))})),s()(this,"_renderPrerollVideo",(e=>{var t;const{containerRef:a,playerApi:r,playerDisplayOptions:n,playerState:i,poster:o,showWatchAgain:s,useRefactoredControlBarLayout:c}=this.props;if(!r||!i)return null;const{Observer:p,observed:m}=e,d="PLAY_REQUESTED"!==(null==(t=i.controls)?void 0:t.playState),y=s&&i.tracksFinished,f=Object(R.c)(i,m,R.b),E=!!i.error,C=!(null!=n&&n.hidePosterImage);return l.createElement(p,{click:!0,interactionKey:R.a.Root,mousemove:!0,mouseover:!0},E?null:l.createElement(l.Fragment,null,l.createElement(S.a,{hideControls:f,isTouchOnlyUI:R.b,playerApi:r,playerDisplayOptions:n,playerState:i}),C&&!y&&l.createElement(g.a,{imageSrc:o,playerApi:r,playerState:i,withPlayButton:d}),l.createElement(u.a,{playerState:i}),l.createElement(fe,{containerRef:a,onSkip:this._handleSkip,playerApi:r,playerState:i,useRefactoredControlBarLayout:c})),l.createElement(b.a,{show:E},E&&l.createElement(h.a,{imageSrc:o,playerApi:r,playerState:i})))})),s()(this,"_handleSkip",(()=>{const{playerApi:e}=this.props;e&&e.pause(),this.setState({wasPrerollSkipped:!0})})),s()(this,"_handleTransitionAnimationComplete",(()=>{const{playerApi:e}=this.props;e&&e.nextTrack()}))}render(){const{playerApi:e,playerState:t}=this.props;if(!e||!t)return null;const a=Object(y.e)(t);return(null==a?void 0:a.displayType)===p.c.AD&&(null==a?void 0:a.useRedesignedPrerollUx)?l.createElement(E.a,null,l.createElement(E.a.Context.Consumer,null,this._renderWithRedesignedPrerollUx)):l.createElement(k,this.props)}}var ge=Se;class Ce extends l.PureComponent{render(){const{playerApi:e,playerState:t,useRedesignedPrerollUx:a}=this.props;return e&&t?a?l.createElement(i.a,{periodic:!0},(({playerState:e})=>l.createElement(ge,n()({},this.props,{playerState:e})))):l.createElement(k,this.props):null}}t.default=Ce},ReFq:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a("KEM+"),n=a.n(r),l=(a("kYxP"),a("ERkP")),i=a("/yvb"),o=a("3XMw"),s=a.n(o),c=a("rHpw"),u=a("MWbm");const p=s.a.f2d4e6f1;class m extends l.PureComponent{constructor(...e){super(...e),n()(this,"_createWatchAgainHandler",(e=>t=>{const{onScribeEvent:a,playerApi:r}=this.props;t.stopPropagation(),a&&a({namespace:{element:e,action:"click"}}),r&&r.replay()})),n()(this,"_handleOnPress",this._createWatchAgainHandler("watch_again_button")),n()(this,"_handleOnClick",this._createWatchAgainHandler("watch_again_overlay"))}render(){const{playerState:e}=this.props;return e&&e.tracksFinished?l.createElement(u.a,{onClick:this._handleOnClick,style:d.overlay},l.createElement(i.a,{accessibilityLabel:p,onPress:this._handleOnPress,type:"onMedia"},p)):null}}const d=c.a.create((e=>({overlay:{...c.a.absoluteFillObject,backgroundColor:c.a.theme.colors.translucentBlack30,alignItems:"center",justifyContent:"center"}})))},uz49:function(e,t,a){"use strict";a("kYxP");var r=a("ERkP"),n=a("0W/e"),l=a("rHpw"),i=a("U+bB"),o=a("MWbm");const s={animationStage:"INITIAL",containerSize:null,imageTransform:null},c=(e=s,t)=>{switch(t.type){case"SET_TRANSFORM":if("INITIAL"===e.animationStage){const{aspectRatio:a,containerHeight:r,containerWidth:i}=t.payload,o=Object(n.a)(a),s={width:i,height:r},c={scaleX:o.width/i,scaleY:o.height/r,translateX:-1*l.a.theme.spacesPx.space12,translateY:-1*l.a.theme.spacesPx.space12};return{...e,animationStage:"SET_TRANSFORM",containerSize:s,imageTransform:c}}return e;case"START_ANIMATION":return"SET_TRANSFORM"===e.animationStage?{...e,animationStage:"START_ANIMATION",imageTransform:{scaleX:1,scaleY:1,translateX:0,translateY:0}}:e;case"FINISH_ANIMATION":return{...e,animationStage:"FINISH_ANIMATION"};default:return e}};const u={imageFill:{width:"100%",height:"100%"},transitionStyle:{transitionDuration:"250ms",transitionProperty:"transform",transitionTimingFunction:"ease",transformOrigin:"bottom right"},posterPositionStyle:{position:"absolute",right:"0",bottom:"0"}};t.a=function({aspectRatio:e,imageSrc:t,onTransitionComplete:a}){const[n,p]=r.useReducer(c,s),{animationStage:m,containerSize:d,imageTransform:h}=n,b=r.useCallback((t=>{if(null!=t){const{height:a,width:r}=t.getBoundingClientRect();requestAnimationFrame((()=>{p({type:"SET_TRANSFORM",payload:{aspectRatio:e,containerHeight:a,containerWidth:r}})}))}}),[e]),y=r.useCallback((e=>{requestAnimationFrame((()=>{p({type:"START_ANIMATION"})}))}),[]),f=r.useCallback((()=>{p({type:"FINISH_ANIMATION"})}),[]);return r.useEffect((()=>{t||f()}),[t,f]),r.useEffect((()=>{"FINISH_ANIMATION"===m&&a&&a()}),[a,m]),r.useEffect((()=>{if("START_ANIMATION"===m){const e=setTimeout((()=>{f()}),300);return function(){clearTimeout(e)}}}),[m,f]),r.createElement(o.a,{ref:b,style:l.a.absoluteFill},(()=>{if(null==d||null==h||!t)return null;const e={position:"absolute",height:d.height,width:d.width,right:"0",bottom:"0"},{scaleX:a,scaleY:n,translateX:l,translateY:o}=h,s={transform:`matrix(${a}, 0, 0, ${n}, ${l}, ${o})`},c={...u.transitionStyle,...u.posterPositionStyle,...e,...s};return r.createElement("div",{onTransitionEnd:f,style:c},r.createElement(i.a,{ref:y,source:t,style:u.imageFill}))})())}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loaders.video.VideoPlayerDefaultUI.37a89925.js.map